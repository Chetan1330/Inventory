{% extends "layouts/base.html" %} {% load static %} {% load widget_tweaks %} 
{% block title %} Create Purchase {% endblock title %} 
{% block content %}
<div class="card">
  <div class="card-header">
    <div class="row">
      <div class="col-sm-3">
        <h5>ID: <span>C515LM1W</span></h5>
      </div>
      <div class="col-sm-3">
        <h5>Date: <span>August'30 2023</span></h5>
      </div>
      <div class="col-sm-3">
        <h5>Account: <span>Mercury</span></h5>
      </div>
      <div class="col-sm-3">
        <h5>Requested By: <span>James Cameron</span></h5>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-sm-6">
        <div class="dropdown purchase">
          <button
            class="dropdown-toggle purchase"
            type="button"
            data-toggle="dropdown"
          >
            Items
            <span class="purchase caret"></span>
          </button>
          <ul class="dropdown-menu purchase">
            <li>
                <form class="item-form">
                  <div class="form-row">
                    <div class="form-group col-md-6">
                      <label for="name">Name:</label>
                      <select class="form-control" id="name">
                        <option value="Net-Adapter">Net Adapter</option>
                        <option value="Memory-chip">Memory chip</option>
                        <option value="Integrator">Integrator</option>
                      </select>
                    </div>
                    <div class="form-group col-md-6">
                      <label for="type">Type:</label>
                      <select class="form-control" id="type">
                        <option value="Semi-conductor">Semi conductor</option>
                        <option value="Resistor">Resistor</option>
                        <option value="Volter">Volter</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col-md-6">
                      <label for="quantity">Quantity:</label>
                      <input type="number" class="form-control" id="quantity" />
                    </div>
                    <div class="form-group col-md-6">
                      <label for="link">Link:</label>
                      <input type="text" class="form-control" id="link" />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="description">Description:</label>
                    <input type="text" class="form-control" id="description" />
                  </div>
                  <div class="form-group col-md-12" style="display: flex;">
                    <button type="submit" class="global-btn" style="margin: 10px;">Submit</button>
                    <button type="submit" class="global-btn add-new-btn" style="margin: 10px;">
                      Add New+
                    </button>
                  </div> 
                </form> 
                
            </li>
          </ul>
        </div>
      </div>
    </div>
    <br />
    <div class="table-responsive">
      <table
        id="vendortable"
        class="table tablemanager customers-list table-bordered"
      >
        <thead>
          <tr>
            <th>NAME</th>
            <th>TYPE</th>
            <th>QUANTITY</th>
            <th>LINK</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border">
            <td>Peter</td>
            <td>Net Adapter</td>
            <td>5</td>
            <td><a href="#">www.ust.com</a></td>
            <td>This is in need for outsourcing</td>
          </tr>
          <tr class="border">
            <td>Paul</td>
            <td>Net Adapter</td>
            <td>5</td>
            <td><a href="#">www.ust.com</a></td>
            <td>This is in need for outsourcing</td>
          </tr>
          <tr class="border">
            <td>Jack</td>
            <td>Net Adapter</td>
            <td>5</td>
            <td><a href="#">www.ust.com</a></td>
            <td>This is in need for outsourcing</td>
          </tr>
          <tr class="border">
            <td>Julius</td>
            <td>Net Adapter</td>
            <td>5</td>
            <td><a href="#">www.ust.com</a></td>
            <td>This is in need for outsourcing</td>
          </tr>
          <tr class="border">
            <td>Ceaser</td>
            <td>Net Adapter</td>
            <td>5</td>
            <td><a href="#">www.ust.com</a></td>
            <td>This is in need for outsourcing</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <label for="approverDetails">Approver Details:</label>
        <ul style="list-style-type: none">
          <li>Name: Aston Martin</li>
          <li>Role: Manager</li>
          <li>Location: New York,USA</li>
        </ul>
      </div>
      <div class="col-sm-6" style="display: flex;">
        <button type="button" class="global-btn" style="height: 54px; margin: 10px;">Submit</button>
        <button type="button" class="global-btn" style="height: 54px; margin: 10px;">+Save Template</button>
      </div>
    </div>
  </div>
</div>

  
<script>
  document.addEventListener('DOMContentLoaded', function () {
  const addButton = document.querySelector('.add-new-btn');
  const dropdownMenu = document.querySelector('.dropdown-menu');

  // Function to create a new form element
  function createNewForm() {
    // Clone the original form
    const originalForm = document.querySelector('.item-form');
    const newForm = originalForm.cloneNode(true);

    // Remove submit and add new buttons from the previous form
    const buttons = newForm.querySelectorAll('.form-group.col-md-12 button');
    buttons.forEach((button) => button.remove());

    // Add this new form to the dropdown menu
    dropdownMenu.appendChild(newForm);

    // Add click event listener to the new "Add New+" button
    const newAddNewButton = newForm.querySelector('.add-new-btn');
    newAddNewButton.addEventListener('click', createNewForm);

    // Add submit event listener to the form
    newForm.addEventListener('submit', function (e) {
      e.preventDefault();

      // Handle form submission logic here
      // For demonstration purposes, you can simply alert the form data
      const formData = new FormData(e.target);
      const formObject = {};
      formData.forEach((value, key) => {
        formObject[key] = value;
      });
      alert(JSON.stringify(formObject));

      // Optionally, you can reset the form
      e.target.reset();
    });
  }

  // Add click event listener to the initial "Add New+" button
  addButton.addEventListener('click', createNewForm);
});

</script>
  
    
  
  
  
  
  
  
  
  
{% endblock content %}
